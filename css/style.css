/* ====== RESET & TOKENS ====== */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
:root{
  --bg:#ffffff; --surface:#ffffff; --text:#0e1320; --muted:#5a6170;
  --primary:#2b8a3e; --ring:rgba(43,138,62,.25);
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.08); --border:#e9edf3;
}
/* Temalar */
.theme-green{
  --bg:#f6f9f6; --surface:#ffffff; --text:#101418; --muted:#5b6a5f;
  --primary:#2b8a3e; --ring:rgba(43,138,62,.25); --border:#e6efe6;
}
.theme-dark{
  --bg:#0e141a; --surface:#121a22; --text:#e8ecf2; --muted:#9aa6b2;
  --primary:#00bfa6; --ring:rgba(0,191,166,.25); --border:#1d2833;
  --shadow:0 10px 40px rgba(0,0,0,.45);
}
.theme-glass{
  --bg:#eafff5; --surface:rgba(255,255,255,.55); --text:#0f1220; --muted:#51606b;
  --primary:#00a978; --ring:rgba(0,169,120,.25); --border:rgba(255,255,255,.6);
}
body{
  background:var(--bg); color:var(--text);
  font-family:Inter,system-ui,Arial,sans-serif; line-height:1.4;
  transition:background .35s,color .25s;
}
h1,h2,h3{font-family:Poppins,Inter,system-ui,Arial,sans-serif;margin:0 0 .5rem}
p{margin:0 0 1rem}
a{color:var(--primary); text-decoration:none}
.ks-container{width:min(1100px,92%); margin:0 auto}

/* ===== HEADER / NAV (namespaced: ks-*) ===== */
.ks-header{
  position:sticky; top:0; z-index:100;
  background:color-mix(in oklab,var(--surface) 85%, transparent);
  border-bottom:1px solid var(--border);
  backdrop-filter:blur(6px);
}
.ks-nav{display:flex; align-items:center; gap:16px; padding:14px 0}
.ks-logo{font-weight:700; font-family:Poppins,Inter; font-size:20px; color:var(--text); text-decoration:none}

/* Masaüstü menü */
.ks-drawer{
  margin-left:auto; display:flex; align-items:center; gap:14px; list-style:none; padding:0;
}
.ks-drawer a{padding:8px 10px; border-radius:10px; color:var(--text)}
.ks-drawer a[aria-current="page"]{color:var(--primary); font-weight:600}
.ks-theme{display:flex; align-items:center; gap:6px}
.ks-theme-label{font-size:.9rem; color:var(--muted)}
.ks-select{padding:8px 10px; border:1px solid var(--border); border-radius:10px; background:#fff}

/* Hamburger */
.ks-hamburger{
  display:none; align-items:center; justify-content:center;
  margin-left:auto; width:44px; height:44px;
  background:#fff; border:1px solid var(--border); border-radius:999px;
  cursor:pointer; -webkit-appearance:none; appearance:none;
  position:relative; z-index:10003;
}
.ks-hamburger:focus{ outline:2px solid var(--ring) }
.ks-hamburger span{
  width:22px; height:2px; background:var(--text);
  border-radius:2px; display:block; transition:transform .2s, opacity .2s;
}
.ks-hamburger span + span{ margin-top:5px }
.ks-hamburger.ks-active span:nth-child(1){ transform:translateY(7px) rotate(45deg) }
.ks-hamburger.ks-active span:nth-child(2){ opacity:0 }
.ks-hamburger.ks-active span:nth-child(3){ transform:translateY(-7px) rotate(-45deg) }

/* Backdrop */
.ks-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.38);
  opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:10000;
}
.ks-backdrop.ks-show{ opacity:1; pointer-events:auto }

/* Mobil panel */
@media (max-width:820px){
  .ks-hamburger{ display:flex }
  .ks-drawer{
    position:fixed; top:0; right:0; height:100dvh;   /* iOS güvenli */
    width:min(78vw, 360px);
    background:var(--surface);
    border-left:1px solid var(--border);
    box-shadow:-12px 0 30px rgba(0,0,0,.16);
    display:flex; flex-direction:column; align-items:flex-start; gap:10px;
    padding:calc(var(--ks-offset, 64px) + 12px) 14px 16px; /* header kadar boşluk */
    overflow:auto; -webkit-overflow-scrolling:touch;
    transform:translateX(105%); transition:transform .25s ease;
    z-index:10002; will-change:transform;
  }
  .ks-drawer.ks-open{ transform:translateX(0) }
  .ks-drawer a{ display:block; width:100%; padding:12px 10px; border-radius:12px }
  .ks-drawer a:active{ background:#f2f4f7 }
  .ks-theme{ width:100%; margin-top:6px }
  .ks-select{ width:100% }
}
@media (min-width:821px){
  .ks-drawer{ position:static; transform:none!important; box-shadow:none; border:0; padding:0 }
}

/* ===== HERO / BACKGROUND ===== */
.page-bg{ position:relative }
.page-bg::before{
  content:""; position:absolute; inset:-80px -40px -40px -40px; z-index:-1; filter:blur(30px);
  background: radial-gradient(600px 300px at 10% 5%, rgba(43,138,62,.08), transparent),
              radial-gradient(700px 350px at 90% 10%, rgba(43,138,62,.06), transparent);
}
.theme-dark .page-bg::before{
  background: radial-gradient(600px 300px at 10% 5%, rgba(0,191,166,.12), transparent),
              radial-gradient(700px 350px at 90% 10%, rgba(0,191,166,.08), transparent);
}
.theme-glass .page-bg::before{
  background: linear-gradient(135deg, rgba(163,255,214,.22), rgba(201,248,231,.2), rgba(234,255,245,.18));
}
.hero{ display:grid; grid-template-columns:1.2fr .8fr; gap:20px; padding:34px 0 24px }
.hero h1{ font-size:clamp(26px,3.4vw,40px) }
.hero h1 span{ color:var(--primary) }
.hero .actions{ display:flex; gap:10px; flex-wrap:wrap }
.hero-card{ align-self:start }
@media (max-width:900px){ .hero{ grid-template-columns:1fr } }

/* ===== CARDS / BUTTONS ===== */
.card{
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:16px;
  transition:transform .15s ease, box-shadow .25s ease, background .35s ease;
}
.card:hover{ transform:translateY(-1px); box-shadow:0 12px 30px rgba(0,0,0,.1) }
.btn{ display:inline-block; border:1px solid var(--border); border-radius:999px; padding:10px 16px; background:#fff; color:var(--text) }
.btn:focus{ outline:2px solid var(--ring) }
.btn-primary{ background:var(--primary); border-color:transparent; color:#fff }
.btn-primary:hover{ filter:brightness(1.05) }
.btn.ghost{ background:transparent }
.muted{ color:var(--muted) } .small{ font-size:.95rem } .tiny{ font-size:.85rem }
.grid-3{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; padding:24px 0 }
.grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:16px; padding:24px 0 }
@media (max-width:900px){ .grid-3{ grid-template-columns:1fr } .grid-2{ grid-template-columns:1fr } }

/* lists */
.checklist{ margin:10px 0 0 0; padding-left:18px }
.checklist li{ margin:.25rem 0 }
.help,.bullets{ margin:0; padding-left:18px }
.help li,.bullets li{ margin:.4rem 0 }

/* ===== QUIZ ===== */
.quiz-wrap{ padding:28px 0 }
.quiz{ padding:18px }
.progress{ height:10px; background:#f0f2f5; border-radius:999px; margin:4px 0 12px; overflow:hidden; border:1px solid var(--border) }
#progress-bar{ height:100%; width:0; background:var(--primary); transition:width .2s }
.meta{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px }
.pill{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid var(--border); border-radius:999px }
.pill.soft{ background:#f6f8fb; color:#566 }
.question p{ font-size:1.05rem; margin:.25rem 0 1rem }
.options{ display:grid; gap:10px }
.option{ border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff; cursor:pointer; text-align:left }
.option.selected{ outline:2px solid var(--ring); border-color:transparent }
.quiz-nav{ display:flex; justify-content:space-between; align-items:center; margin-top:14px }
.quiz-nav .right{ display:flex; gap:8px; align-items:center }
.result h2{ margin-bottom:.25rem }
.bars{ display:grid; gap:12px; margin-top:12px }
.bar{ background:#fff; border:1px solid var(--border); border-radius:12px; padding:12px }
.bar-top{ display:flex; justify-content:space-between; margin-bottom:6px }
.bar-bg{ width:100%; height:12px; background:#f0f2f5; border-radius:999px; overflow:hidden }
.bar-fill{ height:100%; background:var(--primary) }
.bar-fill.mid{ background:#f4b740 } .bar-fill.high{ background:#ff6b6b }
.bar-note{ margin-top:6px; color:#555 }
.history{ margin-top:24px }
.history-list{ display:grid; gap:10px }
.history-item{ background:#fff; border:1px solid var(--border); border-radius:10px; padding:12px }

/* ===== FOOTER ===== */
.site-footer{ border-top:1px solid var(--border); margin-top:24px }
.foot{ display:flex; align-items:center; justify-content:space-between; padding:16px 0 }
.link{ color:var(--primary) }
@media (max-width:820px){ .foot .link{ display:none } } /* yanlışlıkla tıklamayı azalt */
